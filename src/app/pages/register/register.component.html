<!-- breadcrumb start -->
<div class="breadcrumb-section">
    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <div class="page-title">
                    <h2>Registro</h2>
                </div>
            </div>
            <div class="col-sm-6">
                <nav aria-label="breadcrumb" class="theme-breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a [routerLink]="'/index'">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Registro</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- breadcrumb End -->
<!-- section start -->
<section class="register-page section-b-space" *ngIf="!requireOtp">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h3>Crear cuenta nueva</h3>
                <div class="theme-card">
                    <form class="theme-form" [formGroup]="registerForm" (ngSubmit)="register()">
                        <div class="form-row">
                            <div class="col-md-5">
                                <label for="name">Nombre</label>
                                <input type="text" formControlName="nombre" class="form-control" id="name" placeholder="Nombre" required="">
                                <div *ngIf="registerForm.controls.nombre.touched && registerForm.controls.nombre.errors?.required" class="text text-danger">
                                    El campo Nombre es obligatorio.
                                </div>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-2">
                                <label for="countrycode">País</label>
                                <select name="countrycode" formControlName="countrycode" class="form-control" [(ngModel)]="country">
                                    <option *ngFor="let country of countries" [value]="country.code" selected>{{country.name}}  ({{country.code}})</option> 
                                                    
                                </select>
                                
                            </div>
                            <div class="col-md-4">
                                <label for="phone">Teléfono</label>
                                <input type="text" maxlength="9" oninput="this.value=this.value.replace(/[^0-9]/g,'');" formControlName="tel" class="form-control" id="phone" placeholder="Teléfono" required="">
                                <!--<input type="text" oninput="this.value=this.value.replace(/[^0-9]/g,'');" formControlName="tel" class="form-control" id="phone" placeholder="Teléfono" required="">-->
                                <div *ngIf="registerForm.controls.tel.touched && registerForm.controls.tel.errors?.required" class="text text-danger">
                                    El campo Teléfono es obligatorio.
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-5">
                                <label for="email">Email</label>
                                <input type="email" formControlName="email" class="form-control" id="email" placeholder="Email" required="">
                                <div *ngIf="registerForm.controls.email.touched && registerForm.controls.email.errors?.required" class="text text-danger">
                                    El campo Email es obligatorio.
                                </div>
                                <div *ngIf="registerForm.controls.email.touched && registerForm.controls.email.errors?.email" class="text text-danger">
                                    Email no válido
                                </div>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-6">
                                <label for="password">Contraseña</label>
                                <input type="password" formControlName="password" class="form-control" id="password" placeholder="Ingresa tu contraseña" required="">
                                <div *ngIf="registerForm.controls.password.touched && registerForm.controls.password.errors?.required" class="text text-danger">
                                    El campo Contraseña es obligatorio.
                                </div>
                            </div>
                            <button class="btn btn-solid" id="btnRegister" type="submit" [disabled]="!registerForm.valid">Crear cuenta</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!--Section ends-->

<section class="section-b-space light-layout" *ngIf="requireOtp">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="success-text">
                    <i class="fa fa-check-circle" aria-hidden="true"></i>
                    <h2>Confirmación de Registro</h2>
                    <p>Para activar su cuenta, por favor ingrese el código de confirmación enviado a su correo electrónico.</p>
                    
                        
                        
                          <form class="form-inline subscribe-form" [formGroup]="validateOtpForm">
                            <div class="form-group mx-sm-3">
                              <input type="tel" formControlName="otp" name="otp" id="otp" class="form-control" placeholder="Código">
                            </div>
                            <button class="btn btn-solid" (click)="validateOtp()">Enviar</button>
                          </form>
                        
                    
                </div>
            </div>
        </div>
    </div>
  </section>